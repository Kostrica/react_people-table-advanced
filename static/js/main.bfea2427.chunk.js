(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{26:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);var c=s(18),a=s.n(c),n=s(8),r=s(1),l=s(2),o=(s(26),s(0)),i=function(){return Object(o.jsx)("div",{className:"header",children:Object(o.jsx)("nav",{className:"header__nav",children:Object(o.jsxs)("ul",{className:"header__nav-list",children:[Object(o.jsx)("li",{className:"header__nav-item",children:Object(o.jsx)(n.b,{className:"header__nav-link",to:"/home",children:"Home page"})}),Object(o.jsx)("li",{className:"header__nav-item",children:Object(o.jsx)(n.b,{className:"header__nav-link",to:"/people",children:"People page"})})]})})})},j=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("h2",{children:"Home page"})})},d=s(15),b=s(11),m=s(21),u=s.n(m),h=s(39),x="https://mate-academy.github.io/react_people-table/api",O=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat(x).concat(e),t).then((function(e){return e.json()}))}("/people.json")},g=s(7),p=s.n(g),f=(s(32),function(e){var t=e.name,s=e.slug,c=e.sex,a=e.searchParams;return Object(o.jsx)(n.b,{className:p()("PersonName",{men:"m"===c},{women:"f"===c}),to:"/people/".concat(s,"?").concat(a),children:t})}),v=(s(33),function(e){var t=e.person,s=e.personSlug,c=e.searchParams,a=t.name,n=t.sex,r=t.born,l=t.died,i=t.father,j=t.mother,d=t.slug;return Object(o.jsxs)("tr",{className:p()("Person",{activeRow:d===s}),children:[Object(o.jsx)("td",{className:"cell",children:i||j?Object(o.jsx)(f,{name:a,slug:d,sex:n,searchParams:c}):Object(o.jsx)("span",{className:"no-parents",children:a})}),Object(o.jsx)("td",{className:"cell center",children:n}),Object(o.jsx)("td",{className:"cell center",children:r}),Object(o.jsx)("td",{className:"cell center",children:l}),Object(o.jsx)("td",{className:"cell",children:Object(o.jsx)(f,{name:null===j||void 0===j?void 0:j.name,slug:null===j||void 0===j?void 0:j.slug,sex:null===j||void 0===j?void 0:j.sex,searchParams:c})}),Object(o.jsx)("td",{className:"cell",children:Object(o.jsx)(f,{name:null===i||void 0===i?void 0:i.name,slug:null===i||void 0===i?void 0:i.slug,sex:null===i||void 0===i?void 0:i.sex,searchParams:c})})]})}),N=(s(34),function(e){var t=e.people,s=e.personSlug,c=e.searchParams,a=e.sortBy,n=e.sortOrder,r=e.handleSortChange;return Object(o.jsxs)("table",{className:"PeopleTable",children:[Object(o.jsx)("thead",{className:"PeopleTable__head",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"head-cell name",children:Object(o.jsxs)("button",{className:p()("button",{"button-active":"name"===a}),type:"button",onClick:function(){r("name")},children:[Object(o.jsx)("span",{className:"button-text",children:"Name"}),"name"!==a&&Object(o.jsx)("img",{src:"./images/sort_both.png",alt:"img"}),"name"===a&&"asc"===n&&Object(o.jsx)("img",{src:"./images/sort_asc.png",alt:"img"}),"name"===a&&"desc"===n&&Object(o.jsx)("img",{src:"./images/sort_desc.png",alt:"img"})]})}),Object(o.jsx)("th",{className:"head-cell sex",children:Object(o.jsxs)("button",{className:p()("button",{"button-active":"sex"===a}),type:"button",onClick:function(){r("sex")},children:[Object(o.jsx)("span",{className:"button-text",children:"Sex"}),"sex"!==a&&Object(o.jsx)("img",{src:"./images/sort_both.png",alt:"img"}),"sex"===a&&"asc"===n&&Object(o.jsx)("img",{src:"./images/sort_asc.png",alt:"img"}),"sex"===a&&"desc"===n&&Object(o.jsx)("img",{src:"./images/sort_desc.png",alt:"img"})]})}),Object(o.jsx)("th",{className:"head-cell born",children:Object(o.jsxs)("button",{className:p()("button",{"button-active":"born"===a}),type:"button",onClick:function(){r("born")},children:[Object(o.jsx)("span",{className:"button-text",children:"Born"}),"born"!==a&&Object(o.jsx)("img",{src:"./images/sort_both.png",alt:"img"}),"born"===a&&"asc"===n&&Object(o.jsx)("img",{src:"./images/sort_asc.png",alt:"img"}),"born"===a&&"desc"===n&&Object(o.jsx)("img",{src:"./images/sort_desc.png",alt:"img"})]})}),Object(o.jsx)("th",{className:"head-cell died",children:Object(o.jsxs)("button",{className:p()("button",{"button-active":"died"===a}),type:"button",onClick:function(){r("died")},children:[Object(o.jsx)("span",{className:"button-text",children:"Died"}),"died"!==a&&Object(o.jsx)("img",{src:"./images/sort_both.png",alt:"img"}),"died"===a&&"asc"===n&&Object(o.jsx)("img",{src:"./images/sort_asc.png",alt:"img"}),"died"===a&&"desc"===n&&Object(o.jsx)("img",{src:"./images/sort_desc.png",alt:"img"})]})}),Object(o.jsx)("th",{className:"head-cell mother",children:"Mother"}),Object(o.jsx)("th",{className:"head-cell father",children:"Father"})]})}),Object(o.jsx)("tbody",{children:t.map((function(e){return Object(o.jsx)(v,{person:e,personSlug:s,searchParams:c},e.id)}))})]})}),_=(s(35),function(e){var t=e.personSlug,s=Object(r.useState)([]),c=Object(b.a)(s,2),a=c[0],n=c[1],i=Object(r.useState)([]),j=Object(b.a)(i,2),m=j[0],x=j[1];Object(r.useEffect)((function(){O().then((function(e){var t=e.map((function(t){var s=e.find((function(e){return e.name===t.fatherName})),c=e.find((function(e){return e.name===t.motherName}));return Object(d.a)(Object(d.a)({},t),{},{father:s,mother:c,id:Object(h.a)()})}));n(t)}))}),[]);var g=Object(l.g)(),p=Object(l.h)(),f=Object(r.useMemo)((function(){return new URLSearchParams(p.search)}),[p.search]),v=f.get("query")||"",_=Object(r.useState)(""),S=Object(b.a)(_,2),P=S[0],y=S[1],C=Object(r.useCallback)(u()((function(e){e?f.set("query",e):f.delete("query"),g.push({search:f.toString()})}),500),[]),k=f.get("sortBy")||"",w=Object(r.useState)(""),B=Object(b.a)(w,2),L=B[0],E=B[1],q=f.get("sortOrder")||"";return Object(r.useEffect)((function(){var e=a;if(v){var t=v.toLowerCase();e=e.filter((function(e){var s=e.name,c=e.motherName,a=e.fatherName;return s.toLowerCase().includes(t)||(null===c||void 0===c?void 0:c.toLowerCase().includes(t))||(null===a||void 0===a?void 0:a.toLowerCase().includes(t))}))}else e=a;k&&e.sort((function(e,t){return"name"===k||"sex"===k?"asc"===q?e[k].localeCompare(t[k]):t[k].localeCompare(e[k]):"born"===k||"died"===k?"asc"===q?e[k]-t[k]:t[k]-e[k]:null})),x(e)}),[v,a,k,q]),Object(r.useEffect)((function(){x(a)}),[a]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h2",{children:"People table"}),Object(o.jsx)("div",{className:"control",children:Object(o.jsx)("input",{className:"input",type:"text",placeholder:"Person's name",value:P,onChange:function(e){var t=e.target;y(t.value),C(t.value)}})}),Object(o.jsx)(N,{people:m,personSlug:t,searchParams:f,sortBy:k,sortOrder:q,handleSortChange:function(e){var t="asc";e===L&&(t="asc"===q?"desc":"asc"),f.set("sortOrder",t),f.set("sortBy",e),g.push({search:f.toString()}),E(e)}})]})}),S=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("h2",{children:"Page not found"})})},P=(s(36),function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(i,{}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{exact:!0,path:"/home",children:Object(o.jsx)(j,{})}),Object(o.jsx)(l.b,{exact:!0,path:"/people/:personSlug?",render:function(e){var t=e.match;return Object(o.jsx)(_,{personSlug:t.params.personSlug})}}),Object(o.jsx)(l.a,{exact:!0,from:"/",to:"/home"}),Object(o.jsx)(S,{})]})]})});a.a.render(Object(o.jsx)(n.a,{children:Object(o.jsx)(P,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.bfea2427.chunk.js.map